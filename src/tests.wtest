import direcciones.*
import elementosJuego.*
import juego.*
import niveles.*
import personajes.*
import wollok.game.*
import texto.*

describe "Jugador"{

	test "Al moverse hacia arriba, el jugador actualiza su posición" {

		personaje.position(game.at(0,0))
		personaje.moverA(arriba)
		assert.equals(personaje.position(),game.at(0,1))
	}

	test "El jugador pierde una vida al chocarse con un enemigo" {

		const algunEnemigo = new Enemigo(vida = 2, position = game.at(0,0), velocidad = 500)
		personaje.chocasteConEnemigo(algunEnemigo)
		assert.equals((personaje.vida()).size(),4)
	}

	test "El jugador recupera la vida que perdió al chocarse con la curita"{
		curita.chocasteConJugador()
		assert.equals((personaje.vida()).size(),5)

	}
}

describe "Enemigo"{

	const unEnemigo = new Enemigo(vida = 2, position = game.at(0,0), velocidad = 500)

	test "El enemigo pierde vida cuando se le dispara con un proyectil" {

		const algunProyectil = new Proyectil()

		algunProyectil.chocasteConEnemigo(unEnemigo)
		assert.equals(unEnemigo.vida(),1)

	}

	test "Cuando un zombie toca el borde, se produce el game over"{
		unEnemigo.chocasteConBorde()
		gameOver.finalizarJuego() 
		assert.that(true)
	}
}